
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Level 1</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/onboarding_level1';</script>
    <link rel="icon" href="../_static/aviary_logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Level 2" href="onboarding_level2.html" />
    <link rel="prev" title="Onboarding Guide" href="onboarding.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/aviary.png" class="logo__image only-light" alt=" - Home"/>
    <script>document.write(`<img src="../_static/aviary.png" class="logo__image only-dark" alt=" - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Aviary Documentation
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="what_aviary_does.html">What Aviary Does</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools_that_aviary_uses.html">Tools That Aviary is Built Upon</a></li>
<li class="toctree-l1"><a class="reference internal" href="expected_user_knowledge.html">Expected User Knowledge</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="onboarding.html">Onboarding Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Level 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="onboarding_level2.html">Level 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="onboarding_level3.html">Level 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="onboarding_ext_subsystem.html">Models with External Subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="input_csv_phase_info.html">Vehicle Input .csv File and Phase_info Dictionary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="now_what.html">Now What?</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../user_guide/user_interface.html">Aviary User Interface</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/UI_Levels.html">User Interface Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/examples_of_the_same_mission_at_different_UI_levels.html">Examples of the same mission at different UI levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/aviary_commands.html">Command Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/input_files.html">Input Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/drawing_and_running_simple_missions.html">Drawing and running simple missions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/pre_mission_and_mission.html">Pre-Mission and Mission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/outputs_and_how_to_read_them.html">Outputs and How to Read Them</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/variable_metadata.html">Understanding the Variable Metadata</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user_guide/features_and_functionalities.html">Features and Functionalities</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/aerodynamics.html">Aerodynamics Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/external_aero.html">Externally Computed Polars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/propulsion.html">Propulsion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/hamilton_standard.html">Hamilton Standard Propulsion Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/mass.html">Mass Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/subsystems.html">SubsystemBuilderBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/using_external_subsystems.html">Using external subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/step_by_step_external_guide.html">Step-by-step guide for creating, testing, and using external subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/battery_subsystem_example.html">In-depth look at the battery subsystem as an example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/features/overriding.html">Overriding Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/FLOPS_based_detailed_takeoff_and_landing.html">FLOPS Based Detailed Takeoff and Landing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide/reserve_missions.html">Reserve Mission</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../examples/intro.html">Discussing the Aviary Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/simple_mission_example.html">Conventional Aircraft and Simple Mission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/more_advanced_example.html">Optimizing the Mission Profile of a Conventional Aircraft</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/coupled_aircraft_mission_optimization.html">Coupled Aircraft-Mission Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/additional_flight_phases.html">Mission Optimization with Many Phases for a Commercial Aircraft</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/reserve_missions.html">Reserve Mission Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/OAS_subsystem.html">Using Aviary and OpenAeroStruct Together</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/level_2_detailed_takeoff_and_landing.html">Level 2 Detailed Takeoff and Landing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Theory Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../theory_guide/intro.html">Overview of Aviary Functionality</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../theory_guide/underlying_concepts.html">Underlying Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/assumptions.html">Assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/aerodynamics.html">Core Aerodynamics Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/geometry.html">Core Geometry Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/mass.html">Core Mass Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/mission.html">Mission Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory_guide/propulsion.html">Core Propulsion Subsystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../theory_guide/optimization_algorithms.html">Optimization Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory_guide/validation.html">Validation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/codebase_overview.html">Codebase Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/coding_standards.html">Coding Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/unit_tests.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/contributing_guidelines.html">Guidelines for Contributing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/how_to_contribute_docs.html">How to Contribute Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/debugging_env_from_github.html">Using Dev Environments from GitHub Actions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Miscellaneous Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../misc_resources/FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_resources/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_resources/resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_resources/externally_supported_subsystems.html">Externally Supported Subsystems</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../misc_resources/feature_comparison.html">Feature Comparison with Legacy Codes</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc_resources/comparison_to_flops.html">Comparison to FLOPS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc_resources/planned_future_features.html">Planned Future Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_srcdocs/index.html">Source Docs</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/openmdao/Aviary/blob/gh-pages/getting_started/onboarding_level1.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/openmdao/Aviary" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/openmdao/Aviary/issues/new?title=Issue%20on%20page%20%2Fgetting_started/onboarding_level1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/getting_started/onboarding_level1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Level 1</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-level-1">What is level 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aviary-fortran-to-aviary-command">Aviary fortran_to_aviary command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aviary-run-mission-command">Aviary run_mission command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-aircraft-model">First aircraft model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-level-1-run">First level 1 run</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warning-messages">Warning messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#level-1-run-options">Level 1 run options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-available-input-files">Other available input files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phase-info">Phase info</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-gasp-phases">Default GASP phases</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#groundroll-phase">Groundroll phase</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#other-phases">Other phases</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-flops-phases">Default FLOPS phases</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outputted-files-and-how-to-read-them">Outputted files and how to read them</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-driver-scaling-report-html">File <code class="docutils literal notranslate"><span class="pre">driver_scaling_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-inputs-html">File <code class="docutils literal notranslate"><span class="pre">inputs.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-n2-html">File <code class="docutils literal notranslate"><span class="pre">n2.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-opt-report-html">File <code class="docutils literal notranslate"><span class="pre">opt_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coloring-files">Coloring files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-traj-linkage-report-html">File <code class="docutils literal notranslate"><span class="pre">traj_linkage_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-traj-results-report-html">File <code class="docutils literal notranslate"><span class="pre">traj_results_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optimizer-output">Optimizer output</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sqlite-database-file">SQLite database file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plain-text-inputs-and-outputs">Plain text inputs and outputs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-messages">Additional messages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-level-1">Beyond level 1</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="level-1">
<h1>Level 1<a class="headerlink" href="#level-1" title="Link to this heading">#</a></h1>
<section id="what-is-level-1">
<h2>What is level 1<a class="headerlink" href="#what-is-level-1" title="Link to this heading">#</a></h2>
<p>This part is a tutorial type introduction. We assume users have read <a class="reference internal" href="../user_guide/user_interface.html"><span class="std std-doc">Aviary User Interface</span></a>. In this doc page we discuss Level 1’s interface, but also other details, such as inputs and outputs.</p>
<p>If you have not yet, make sure to <a class="reference internal" href="installation.html"><span class="std std-doc">install Aviary</span></a>.</p>
<p>To run Aviary in the Level 1 command-line interface (CLI), type this in a terminal:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>usage: aviary [-h] [--version]  ...

aviary Command Line Tools

options:
  -h, --help         show this help message and exit
  --version          show version and exit

Tools:
  
    convert_engine   Converts FLOPS- or GASP-formatted engine decks into
                     Aviary csv format. FLOPS decks are changed from column-
                     delimited to csv format with added headers. GASP decks
                     are reorganized into column based csv. T4 is recovered
                     through calculation. Data points whose T4 exceeds T4max
                     are removed.
    dashboard        Run the Dashboard tool
    draw_mission     Allows users to draw a mission profile for use in Aviary.
    fortran_to_aviary
                     Converts legacy Fortran input decks to Aviary csv based
                     decks
    hangar           Allows users that pip installed Aviary to download models
                     from the Aviary hangar
    run_mission      Runs Aviary using a provided input deck
</pre></div>
</div>
</div>
</div>
<p>We’ll now discuss the different parts of the CLI.</p>
</section>
<section id="aviary-fortran-to-aviary-command">
<h2>Aviary fortran_to_aviary command<a class="headerlink" href="#aviary-fortran-to-aviary-command" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You only need to use the <code class="docutils literal notranslate"><span class="pre">fortran_to_aviary</span></code> command if you are converting a FLOPS or GASP deck to Aviary’s csv format.</p>
</div>
<p>This <a class="reference internal" href="../user_guide/aviary_commands.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">fortran_to_aviary</span></code></span></a> tool converts FORTRAN namelists into Aviary’s csv based format using the mappings found in the <code class="docutils literal notranslate"><span class="pre">historical_name</span></code> section of the <a class="reference internal" href="../user_guide/variable_metadata.html"><span class="std std-doc">variable_meta_data</span></a>. The resulting csv is automatically sorted into three sections:</p>
<ol class="arabic simple">
<li><p><strong>Input Values:</strong>
Any FORTRAN variables that were mapped to input variables in Aviary components</p></li>
<li><p><strong>Initial Guesses:</strong>
Some variables are only used as initial guesses for the trajectory.
These are displayed separately from the Input Values because they will not be passed directly to components</p></li>
<li><p><strong>Unconverted Values:</strong>
If the fortran_to_aviary converter can’t find an Aviary variable that matches the FORTRAN variable, it is added to the end of the csv file.
We recommend that you check this section after converting a namelist to ensure that there aren’t any variables you expected to be converted here.
Many of these unconverted variables represent features or options that are not used in Aviary and can be safely ignored. Variables related to mission definition are important, but Aviary defines mission profiles in a significantly different way. Currently, the user must build a new <a class="reference internal" href="../examples/simple_mission_example.html"><span class="std std-doc">mission definition file</span></a> that recreates the mission.
Aviary will ignore unconverted variables when loading the csv, so you can safely leave them.</p></li>
</ol>
</section>
<section id="aviary-run-mission-command">
<h2>Aviary run_mission command<a class="headerlink" href="#aviary-run-mission-command" title="Link to this heading">#</a></h2>
<p>The Level 1 CLI (i.e. <code class="docutils literal notranslate"><span class="pre">run_mission</span></code> option) is designed to offer the lowest barrier to entry for new users.
Analysts who have experience with legacy tools, such as <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> and <code class="docutils literal notranslate"><span class="pre">GASP</span></code>, should find the switch from FORTRAN namelists to csv-based input decks to be straightforward. Aviary input decks allow the user the ability to set aircraft characteristics and basic mission parameters,
such as cruise Mach number and altitude, in a simple text-based format that does not require any familiarity with Python or OpenMDAO.</p>
<p>Aviary can then be executed by calling <a class="reference internal" href="../user_guide/aviary_commands.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">aviary</span> <span class="pre">run_mission</span></code></span></a> with the csv input deck.
Although the order of the variables in the input deck is not important, you might find it helpful to separate the variables based on if they’re used as initial guesses or in the metadata.</p>
</section>
<section id="first-aircraft-model">
<h2>First aircraft model<a class="headerlink" href="#first-aircraft-model" title="Link to this heading">#</a></h2>
<p>We have a few sample aircraft csv files in <code class="docutils literal notranslate"><span class="pre">aviary/models</span></code>. They are all <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files. For example, <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code> is a large single aisle aircraft mission model.</p>
<p>Open <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code> using your favorite editor (e.g., MS Excel or VS Code). If you choose to use MS Excel, you need to take extra steps to make sure that it is in the original format. We recommend running dos2unix first (e.g. <code class="docutils literal notranslate"><span class="pre">dos2unix</span> <span class="pre">aircraft_for_bench_GwGm.csv</span></code>).</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code> is a data input file modeling large single aisle aircraft which was converted from a <code class="docutils literal notranslate"><span class="pre">GASP</span></code> input deck.
Here is a snippet of the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">debug_mode</span><span class="p">,</span><span class="kc">False</span>

<span class="n">aircraft</span><span class="p">:</span><span class="n">controls</span><span class="p">:</span><span class="n">cockpit_control_mass_scaler</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">unitless</span>
<span class="n">aircraft</span><span class="p">:</span><span class="n">controls</span><span class="p">:</span><span class="n">control_mass_increment</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">lbm</span>
<span class="n">aircraft</span><span class="p">:</span><span class="n">controls</span><span class="p">:</span><span class="n">stability_augmentation_system_mass</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">lbm</span>
<span class="o">......</span>
<span class="n">mission</span><span class="p">:</span><span class="n">design</span><span class="p">:</span><span class="n">cruise_altitude</span><span class="p">,</span><span class="mi">37500</span><span class="p">,</span><span class="n">ft</span>
<span class="n">mission</span><span class="p">:</span><span class="n">design</span><span class="p">:</span><span class="n">gross_mass</span><span class="p">,</span><span class="mi">175400</span><span class="p">,</span><span class="n">lbm</span>
<span class="o">......</span>
<span class="n">reserves</span><span class="p">,</span><span class="mi">0</span>
<span class="n">rotation_mass</span><span class="p">,</span><span class="mf">0.99</span>
<span class="n">time_to_climb</span><span class="p">,</span><span class="mi">0</span>
<span class="o">......</span>
<span class="n">INGASP</span><span class="o">.</span><span class="n">ALR</span><span class="p">,</span><span class="mf">1.11</span><span class="p">,</span>
<span class="n">INGASP</span><span class="o">.</span><span class="n">BENGOB</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span>
<span class="n">INGASP</span><span class="o">.</span><span class="n">CINP</span><span class="p">,</span><span class="mf">0.11</span><span class="p">,</span>
<span class="o">......</span>
</pre></div>
</div>
<p>The input <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file defines the aircraft and mission. In an Aviary input file you see a list of Aviary variables, their values, and units. Aviary variables are colon delimited strings (e.g. <code class="docutils literal notranslate"><span class="pre">aircraft:wing:aspect_ratio</span></code>). An Aviary variable name usually has three words. The first word is <code class="docutils literal notranslate"><span class="pre">aircraft</span></code> or <code class="docutils literal notranslate"><span class="pre">mission</span></code>, the second word is a subsystem name and the third is the variable name. Each variable has a value and units. Aviary requires units for every variable because it reduces errors and is a good engineering practice.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have used the <code class="docutils literal notranslate"><span class="pre">fortran_to_aviary</span></code> tool to create a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file you must check the outputted variable values and units to ensure the file is valid and what you expect.</p>
</div>
<p>Be aware that some variables do not follow the standard naming format (e.g. <code class="docutils literal notranslate"><span class="pre">reserves</span></code>). These are used for the initial guessing of the trajectory. They are intentionally separate to prevent conflicts with some similarly named variables. They are only used once to set up the problem and then are discarded.</p>
<p>Finally we see a list of <code class="docutils literal notranslate"><span class="pre">GASP</span></code> variables that are not converted. Not all variables are converted to Aviary right now. They may represent some features in <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> and <code class="docutils literal notranslate"><span class="pre">GASP</span></code> that we haven’t implemented in Aviary yet.</p>
<p>To find information about a variable (e.g. description, data type, etc.), users should read the <a class="reference internal" href="../user_guide/variable_metadata.html"><span class="doc std std-doc">Variable Metadata Doc</span></a>.</p>
<p>There are special rules for the mapping from the input file variable names to the metadata. For example, variable <code class="docutils literal notranslate"><span class="pre">aircraft:wing:aspect_ratio</span></code> in <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code> is mapped to <code class="docutils literal notranslate"><span class="pre">Aircraft.Wing.ASPECT_RATIO</span></code> in <code class="docutils literal notranslate"><span class="pre">aviary/variable_info/variable_meta_data.py</span></code>. So, the first part (e.g., <code class="docutils literal notranslate"><span class="pre">aircraft</span></code> or <code class="docutils literal notranslate"><span class="pre">mission</span></code>) is mapped to the same word but with the first letter capitalized (e.g., <code class="docutils literal notranslate"><span class="pre">Aircraft</span></code> or <code class="docutils literal notranslate"><span class="pre">Mission</span></code>). The third word is all caps (e.g., <code class="docutils literal notranslate"><span class="pre">ASPECT_RATIO</span></code>). The middle part (e.g., <code class="docutils literal notranslate"><span class="pre">wing</span></code>) is a little more complicated. In most cases, this part capitalizes the first letter (e.g., <code class="docutils literal notranslate"><span class="pre">Wing</span></code>). The following words have special mappings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">air_conditioning</span> <span class="pre">-&gt;</span> <span class="pre">AirConditioning</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anti_icing</span> <span class="pre">-&gt;</span> <span class="pre">AntiIcing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blended_wing_body</span> <span class="pre">-&gt;</span> <span class="pre">BWB</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crew_and_payload</span> <span class="pre">-&gt;</span> <span class="pre">CrewPayload</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">horizontal_tail</span> <span class="pre">-&gt;</span> <span class="pre">HorizontalTail</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">landing_gear</span> <span class="pre">-&gt;</span> <span class="pre">LandingGear</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tail_boom</span> <span class="pre">-&gt;</span> <span class="pre">TailBoom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vertical_tail</span> <span class="pre">-&gt;</span> <span class="pre">VerticalTail</span></code></p></li>
</ul>
<p>This can be summarized as to capitalize the leading letter and to capitalize the first letter after special character “<code class="docutils literal notranslate"><span class="pre">_</span></code>”.</p>
<p>File <code class="docutils literal notranslate"><span class="pre">aviary/variable_info/variables.py</span></code> is a variable hierarchy that is for a single mission. Each mission gets a copy of this hierarchy. Below is a snippet of this file:</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&#39;&#39;
This is a variable hierarchy that is for a single mission. Each mission
gets a copy of this hierarchy.
&#39;&#39;&#39;


# ---------------------------
# Aircraft data hierarchy
# ---------------------------
class Aircraft:

    class AirConditioning:
        MASS = &#39;aircraft:air_conditioning:mass&#39;
        MASS_SCALER = &#39;aircraft:air_conditioning:mass_scaler&#39;

    class AntiIcing:
        MASS = &#39;aircraft:anti_icing:mass&#39;
        MASS_SCALER = &#39;aircraft:anti_icing:mass_scaler&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
</div>
</div>
<p>Aviary variables are always set to default values before the input file is read in. Then Aviary will update the values based on the user-provided <code class="docutils literal notranslate"><span class="pre">.csv</span></code> input file. If you want to set different values, you can set them in the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> input file.</p>
<p>In input <code class="docutils literal notranslate"><span class="pre">*.csv</span></code> files, the first line is usually <code class="docutils literal notranslate"><span class="pre">debug_mode</span></code> with value of <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>. If you are debugging, you may set it to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> and more information will be output on the command line when you run your model. Most of the additional lines of output are from your optimizer. The <code class="docutils literal notranslate"><span class="pre">debug_mode</span></code> variable does not help a new user very much and is primarily for advanced users.</p>
</section>
<section id="first-level-1-run">
<h2>First level 1 run<a class="headerlink" href="#first-level-1-run" title="Link to this heading">#</a></h2>
<p>We are ready to run some models. By default, Aviary runs the optimizer for up to 50 iterations. In order to reduce the run time, we will limit the maximum number of iterations to 1. It will be faster for these examples, but you will not get optimal solutions. Issue the following command:</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary<span class="w"> </span>run_mission<span class="w"> </span>models/test_aircraft/aircraft_for_bench_GwGm.csv<span class="w"> </span>--max_iter<span class="w"> </span><span class="m">1</span><span class="w"> </span>--optimizer<span class="w"> </span>IPOPT
</pre></div>
</div>
</div>
</div>
<p>The argument <code class="docutils literal notranslate"><span class="pre">models/test_aircraft/aircraft_for_bench_GwGm.csv</span></code> shows where the aircraft csv file lives. This argument must be one of the following three options:</p>
<ul class="simple">
<li><p>an absolute path,</p></li>
<li><p>a relative path relative to the current working directory,</p></li>
<li><p>a relative path relative to the Aviary package.</p></li>
</ul>
<p>Aviary searches for the given dataset in this order. If a dataset file exists in multiple directories, the first one Aviary finds will be used.</p>
</section>
<section id="warning-messages">
<h2>Warning messages<a class="headerlink" href="#warning-messages" title="Link to this heading">#</a></h2>
<p>During your first run you may notice some warning messages in the Aviary output. Frequently seen warnings are:</p>
<ul class="simple">
<li><p><strong>PromotionWarning:</strong> Issued when there is ambiguity due to variable promotion (an <a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/warning_control/warnings.html">OpenMDAO warning</a>).</p></li>
<li><p><strong>RuntimeWarning:</strong> Issued for warnings about dubious runtime features (a <a class="reference external" href="https://docs.python.org/3/library/warnings.html">Python warning</a>).</p></li>
<li><p><strong>UserWarning:</strong> Issued for warnings about potential OpenMDAO, Dymos, and/or Aviary problems.</p></li>
<li><p><strong>DerivativesWarning:</strong> Issued when the approximated partials or coloring cannot be evaluated as expected (an <a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/warning_control/warnings.html">OpenMDAO warning</a>).</p></li>
</ul>
<p>Some of these warnings are expected and can be ignored. For example, the following warnings are expected when running the <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">workspace</span><span class="o">/</span><span class="n">OpenMDAO</span><span class="o">/</span><span class="n">openmdao</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">group</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">326</span><span class="p">:</span> <span class="n">PromotionWarning</span><span class="p">:</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Group</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">Setting</span> <span class="nb">input</span> <span class="n">defaults</span> <span class="k">for</span> <span class="nb">input</span> <span class="s1">&#39;mission:takeoff:ascent_duration&#39;</span> <span class="n">which</span> <span class="n">override</span> <span class="n">previously</span> <span class="nb">set</span> <span class="n">defaults</span> <span class="k">for</span> <span class="p">[</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;prom&#39;</span><span class="p">,</span> <span class="s1">&#39;src_shape&#39;</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">]</span><span class="o">.</span>
<span class="o">~/</span><span class="n">workspace</span><span class="o">/</span><span class="n">dymos</span><span class="o">/</span><span class="n">dymos</span><span class="o">/</span><span class="n">phase</span><span class="o">/</span><span class="n">phase</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">2007</span><span class="p">:</span> <span class="ne">RuntimeWarning</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">options</span> <span class="k">for</span> <span class="n">non</span><span class="o">-</span><span class="n">optimal</span> <span class="n">control</span> <span class="s1">&#39;throttle&#39;</span> <span class="ow">in</span> <span class="n">phase</span> <span class="s1">&#39;groundroll&#39;</span><span class="p">:</span> <span class="n">lower</span><span class="p">,</span> <span class="n">upper</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid options for non-optimal control &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; in phase &quot;</span>
<span class="o">~/</span><span class="n">workspace</span><span class="o">/</span><span class="n">dymos</span><span class="o">/</span><span class="n">dymos</span><span class="o">/</span><span class="n">phase</span><span class="o">/</span><span class="n">phase</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1967</span><span class="p">:</span> <span class="ne">UserWarning</span><span class="p">:</span> <span class="n">Phase</span> <span class="n">time</span> <span class="n">options</span> <span class="n">have</span> <span class="n">no</span> <span class="n">effect</span> <span class="n">because</span> <span class="n">fix_initial</span><span class="o">=</span><span class="kc">True</span> <span class="ow">or</span> <span class="n">input_initial</span><span class="o">=</span><span class="kc">True</span> <span class="k">for</span> <span class="n">phase</span> <span class="s1">&#39;traj.phases.rotation&#39;</span><span class="p">:</span> <span class="n">initial_ref</span>
  <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Phase time options have no effect because fix_initial=True &#39;</span>
</pre></div>
</div>
<p>For now, we can ignore the warning messages and continue.</p>
<!-- TODO: expand this section --></section>
<section id="level-1-run-options">
<h2>Level 1 run options<a class="headerlink" href="#level-1-run-options" title="Link to this heading">#</a></h2>
<p>In addition to a model input file, this option has additional options that are important, as seen here:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary<span class="w"> </span>run_mission
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>usage: aviary run_mission [-h] [-o OUTDIR]
                          [--optimizer {SNOPT,IPOPT,SLSQP,None}]
                          [--phase_info PHASE_INFO] [--n2]
                          [--max_iter MAX_ITER] [--shooting]
                          indeck
aviary run_mission: error: the following arguments are required: indeck
</pre></div>
</div>
</div>
</div>
<p>Let us discuss these in more detail:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">––outdir</span></code>: Use specified directory to write output. The default is the current directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--optimizer</span></code>: Name of optimizer. Choices are: <code class="docutils literal notranslate"><span class="pre">SNOPT</span></code>, <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code>, <code class="docutils literal notranslate"><span class="pre">SLSQP</span></code>, and <code class="docutils literal notranslate"><span class="pre">None</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">SNOPT</span></code>. If optimizer is <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will be set to <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code> or <code class="docutils literal notranslate"><span class="pre">SNOPT</span></code> depending on the analysis scheme. The optimization objective is fuel burn for level 1 runs. The objective is</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">mission:objectives:fuel</span></code> if <code class="docutils literal notranslate"><span class="pre">mission_method</span></code> is <code class="docutils literal notranslate"><span class="pre">GASP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fuel_burned</span></code> if <code class="docutils literal notranslate"><span class="pre">mission_method</span></code> is <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--phase_info</span></code>: Path to phase info file. If not provided, it is <code class="docutils literal notranslate"><span class="pre">default_phase_info/gasp.py</span></code> if Mission origin is <code class="docutils literal notranslate"><span class="pre">2DOF</span></code> and <code class="docutils literal notranslate"><span class="pre">default_phase_info/flops.py</span></code> for <code class="docutils literal notranslate"><span class="pre">simple</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--n2</span></code>: Generate an n2 diagram after the analysis. “<a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/model_visualization/n2_basics/n2_basics.html">N2</a>” diagram is an OpenMDAO helper to visualize the model (see <a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/model_visualization/n2_details/n2_details.html">details</a> too and <a class="reference external" href="https://www.youtube.com/watch?v=42VtbX6CX3A">tutorial</a>). It is highly recommended that this option is turned on for new users.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--max_iter</span></code>: Maximum number of iterations. Default is 50.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shooting</span></code>: Use shooting instead of collocation.</p></li>
</ul>
<p>For <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm</span></code> example so far, we have used the <code class="docutils literal notranslate"><span class="pre">SNOPT</span></code> optimizer because it is the default. If we want to use the <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code> optimizer, we can run:</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary<span class="w"> </span>run_mission<span class="w"> </span>models/test_aircraft/aircraft_for_bench_GwGm.csv<span class="w"> </span>--optimizer<span class="w"> </span>IPOPT<span class="w"> </span>--max_iter<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="other-available-input-files">
<h2>Other available input files<a class="headerlink" href="#other-available-input-files" title="Link to this heading">#</a></h2>
<p>Other input files reside in aviary/models. They include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aviary</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">validation_data</span><span class="o">/</span><span class="n">N3CC</span><span class="o">/</span><span class="n">N3CC_generic_low_speed_polars_FLOPSinp</span><span class="o">.</span><span class="n">csv</span>
<span class="n">aviary</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">large_single_aisle_1</span><span class="o">/</span><span class="n">large_single_aisle_1_GwGm</span><span class="o">.</span><span class="n">csv</span>
<span class="n">aviary</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">small_single_aisle</span><span class="o">/</span><span class="n">small_single_aisle_GwGm</span><span class="o">.</span><span class="n">csv</span>
<span class="n">aviary</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">test_aircraft</span><span class="o">/</span><span class="n">converter_configuration_test_data_GwGm</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>For example, to run <code class="docutils literal notranslate"><span class="pre">large_single_aisle_1</span></code> model, you execute the following command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary<span class="w"> </span>run_mission<span class="w"> </span>models/large_single_aisle_1/large_single_aisle_1_GwGm.csv<span class="w"> </span>--max_iter<span class="w"> </span><span class="m">1</span><span class="w"> </span>--optimizer<span class="w"> </span>IPOPT
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loaded default phase_info for 2dof equations of motion
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.groundroll&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.rotation&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.accel&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.climb1&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.climb2&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.desc1&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.desc2&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The following variables have been overridden:
  &#39;aircraft:wing:slat_span_ratio
  &#39;aircraft:wing:slat_span_ratio
  &#39;aircraft:wing:slat_span_ratio
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Constraint Report [traj] ---
    --- groundroll ---
        None
    --- rotation ---
        [final]   0.0000e+00 == normal_force [lbf]
    --- ascent ---
        [final]   5.0000e+02 == altitude [ft]
        [path]    0.0000e+00 &lt;= load_factor &lt;= 1.1000e+00  [unitless]
        [path]    0.0000e+00 &lt;= fuselage_pitch &lt;= 1.5000e+01  [deg]
    --- accel ---
        [final]   2.5000e+02 == EAS [kn]
    --- climb1 ---
        [final]   1.0000e+04 == altitude [ft]
    --- climb2 ---
        [final]   3.7500e+04 == altitude [ft]
        [final]   1.0000e-01 &lt;= altitude_rate  [ft/min]
        [final]   8.0000e-01 == mach [unitless]
    --- cruise ---
        None
    --- desc1 ---
        [final]   1.0000e+04 == altitude [ft]
    --- desc2 ---
        [final]   1.0000e+03 == altitude [ft]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/openmdao/recorders/sqlite_recorder.py:226: UserWarning:The existing case recorder file, dymos_solution.db, is being overwritten.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model viewer data has already been recorded for Driver.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model viewer data has already been recorded for Driver.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Full total jacobian for problem &#39;large_single_aisle_1_GwGm&#39; was computed 3 times, taking 2.1841835359999777 seconds.
Total jacobian shape: (238, 209) 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jacobian shape: (238, 209)  (6.60% nonzero)
FWD solves: 35   REV solves: 0
Total colors vs. total size: 35 vs 209  (83.25% improvement)

Sparsity computed using tolerance: 1e-25
Time to compute sparsity:   2.1842 sec
Time to compute coloring:   0.1757 sec
Memory to compute coloring:   0.7500 MB
Coloring created on: 2024-04-04 21:36:35
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This is Ipopt version 3.14.14, running with linear solver MUMPS 5.6.2.

Number of nonzeros in equality constraint Jacobian...:     2404
Number of nonzeros in inequality constraint Jacobian.:      410
Number of nonzeros in Lagrangian Hessian.............:        0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/openmdao/core/total_jac.py:1627: DerivativesWarning:Constraints or objectives [(&#39;traj.phases.climb2-&gt;final_boundary_constraint-&gt;mach&#39;, inds=[(11, 0)])] cannot be impacted by the design variables of the problem.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total number of variables............................:      209
                     variables with only lower bounds:        0
                variables with lower and upper bounds:      209
                     variables with only upper bounds:        0
Total number of equality constraints.................:      204
Total number of inequality constraints...............:       33
        inequality constraints with only lower bounds:        1
   inequality constraints with lower and upper bounds:       32
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  5.0977333e+00 1.74e+03 1.50e+01  -5.0 0.00e+00    -  0.00e+00 0.00e+00   0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of Iterations....: 1

                                   (scaled)                 (unscaled)
Objective...............:   4.8887065705247252e+00    4.8887065705247252e+00
Dual infeasibility......:   1.4440620595376359e+01    1.4440620595376359e+01
Constraint violation....:   2.3994261793779899e+00    1.2096100545847148e+03
Variable bound violation:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   1.0000016687732632e+05    1.0000016687732632e+05
Overall NLP error.......:   1.0000016687732632e+05    1.0000016687732632e+05


Number of objective function evaluations             = 2
Number of objective gradient evaluations             = 2
Number of equality constraint evaluations            = 2
Number of inequality constraint evaluations          = 2
Number of equality constraint Jacobian evaluations   = 2
Number of inequality constraint Jacobian evaluations = 2
Number of Lagrangian Hessian evaluations             = 0
Total seconds in IPOPT                               = 2.472

EXIT: Maximum Number of Iterations Exceeded.
</pre></div>
</div>
</div>
</div>
<p>For FLOPS-derived models, let us run:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>aviary<span class="w"> </span>run_mission<span class="w"> </span>models/test_aircraft/aircraft_for_bench_FwFm.csv<span class="w"> </span>--max_iter<span class="w"> </span><span class="m">1</span><span class="w"> </span>--optimizer<span class="w"> </span>IPOPT
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/pyoptsparse/pyOpt_MPI.py:68: UserWarning: mpi4py could not be imported. mpi4py is required to use the parallel gradient analysis and parallel objective analysis for non-gradient based optimizers. Continuing using a dummy MPI module from pyOptSparse.
  warnings.warn(warn)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loaded default phase_info for height_energy equations of motion
/home/runner/work/Aviary/Aviary/aviary/subsystems/propulsion/engine_model.py:132: UserWarning: The value of aircraft:engine:wing_locations passed to EngineModel &lt;engine_deck&gt; is type &lt;class &#39;numpy.ndarray&#39;&gt;. Only the first entry in this iterable will be used.
  warnings.warn(
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between climb:time and cruise:time in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between cruise:time and descent:time in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between climb:mass and cruise:mass in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between cruise:mass and descent:mass in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between climb:distance and cruise:distance in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/trajectory/trajectory.py:1202: UnusedOptionWarning:Invalid option in linkage between cruise:distance and descent:distance in trajectory traj. The following options for add_linkage_constraint were specified but not valid when option &#39;connected&#39; is True: ref
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.climb&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.cruise&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
/usr/share/miniconda/envs/test/lib/python3.12/site-packages/dymos/phase/phase.py:1973: UserWarning: Phase time options have no effect because fix_initial=True or input_initial=True for phase &#39;traj.phases.descent&#39;: initial_ref
  warnings.warn(f&#39;Phase time options have no effect because fix_initial=True &#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The following variables have been overridden:
  &#39;aircraft:design:touchdown_mass
  &#39;aircraft:engine:mass
  &#39;aircraft:fins:mass
  &#39;aircraft:fuel:auxiliary_fuel_capacity
  &#39;aircraft:fuel:fuselage_fuel_capacity
  &#39;aircraft:fuel:total_capacity
  &#39;aircraft:fuselage:planform_area
  &#39;aircraft:fuselage:wetted_area
  &#39;aircraft:horizontal_tail:wetted_area
  &#39;aircraft:landing_gear:main_gear_oleo_length
  &#39;aircraft:landing_gear:nose_gear_oleo_length
  &#39;aircraft:vertical_tail:wetted_area
  &#39;aircraft:wing:aspect_ratio
  &#39;aircraft:wing:control_surface_area
  &#39;aircraft:wing:wetted_area
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Constraint Report [traj] ---
    --- climb ---
        [path]    0.0000e+00 &lt;= throttle &lt;= 1.0000e+00  [unitless]
    --- cruise ---
        [initial] 0.0000e+00 &lt;= throttle &lt;= 1.0000e+00  [unitless]
        [final]   0.0000e+00 &lt;= throttle &lt;= 1.0000e+00  [unitless]
    --- descent ---
        [path]    0.0000e+00 &lt;= throttle &lt;= 1.0000e+00  [unitless]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/share/miniconda/envs/test/lib/python3.12/site-packages/openmdao/recorders/sqlite_recorder.py:226: UserWarning:The existing case recorder file, dymos_solution.db, is being overwritten.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model viewer data has already been recorded for Driver.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model viewer data has already been recorded for Driver.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Full total jacobian for problem &#39;aircraft_for_bench_FwFm&#39; was computed 3 times, taking 0.6365061630000355 seconds.
Total jacobian shape: (135, 94) 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jacobian shape: (135, 94)  (8.41% nonzero)
FWD solves: 13   REV solves: 0
Total colors vs. total size: 13 vs 94  (86.17% improvement)

Sparsity computed using tolerance: 1e-25
Time to compute sparsity:   0.6365 sec
Time to compute coloring:   0.0525 sec
Memory to compute coloring:   0.0000 MB
Coloring created on: 2024-04-04 21:36:52
This is Ipopt version 3.14.14, running with linear solver MUMPS 5.6.2.

Number of nonzeros in equality constraint Jacobian...:      689
Number of nonzeros in inequality constraint Jacobian.:      377
Number of nonzeros in Lagrangian Hessian.............:        0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total number of variables............................:       94
                     variables with only lower bounds:        0
                variables with lower and upper bounds:       94
                     variables with only upper bounds:        0
Total number of equality constraints.................:       92
Total number of inequality constraints...............:       42
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:       42
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  0.0000000e+00 1.90e+01 1.79e-02  -5.0 0.00e+00    -  0.00e+00 0.00e+00   0
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of Iterations....: 1

                                   (scaled)                 (unscaled)
Objective...............:   3.5003470073489008e-02    3.5003470073489008e-02
Dual infeasibility......:   1.0071386876135322e+00    1.0071386876135322e+00
Constraint violation....:   1.8728568755418223e+01    1.8728568755418223e+01
Variable bound violation:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   1.0000000827403710e+05    1.0000000827403710e+05
Overall NLP error.......:   1.0000000827403710e+05    1.0000000827403710e+05


Number of objective function evaluations             = 2
Number of objective gradient evaluations             = 2
Number of equality constraint evaluations            = 2
Number of inequality constraint evaluations          = 2
Number of equality constraint Jacobian evaluations   = 2
Number of inequality constraint Jacobian evaluations = 2
Number of Lagrangian Hessian evaluations             = 0
Total seconds in IPOPT                               = 1.167

EXIT: Maximum Number of Iterations Exceeded.
</pre></div>
</div>
</div>
</div>
</section>
<section id="phase-info">
<h2>Phase info<a class="headerlink" href="#phase-info" title="Link to this heading">#</a></h2>
<p>Aviary runs depend not only on input <code class="docutils literal notranslate"><span class="pre">*.csv</span></code> files, but also on <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> dictionaries. A <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> dictionary defines the mission and any analysis settings used within Aviary. It is used by Aviary to build a mission trajectory (e.g., from take-off to landing).</p>
<p>A <a class="reference external" href="https://www.w3schools.com/python/python_dictionaries.asp">Python dictionary</a> is a set of key-value pairs. Most keys in <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> are self-explained. Users should read Dymos’ <a class="reference external" href="https://openmdao.github.io/dymos/api/phase_api.html">Phase Options</a>. For more details about phase_info keys, especially their example usages, please read <a class="reference internal" href="input_csv_phase_info.html"><span class="std std-doc">onboarding phase information</span></a>.</p>
<section id="default-gasp-phases">
<h3>Default GASP phases<a class="headerlink" href="#default-gasp-phases" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">default_phase_info/two_dof.py</span></code> file is shown below:</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>phase_info = {
    &#39;groundroll&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 1,
            &#39;order&#39;: 3,
            &#39;connect_initial_mass&#39;: False,
            &#39;fix_initial&#39;: True,
            &#39;fix_initial_mass&#39;: False,
            &#39;duration_ref&#39;: (50., &#39;s&#39;),
            &#39;duration_bounds&#39;: ((1., 100.), &#39;s&#39;),
            &#39;velocity_lower&#39;: (0, &#39;kn&#39;),
            &#39;velocity_upper&#39;: (1000, &#39;kn&#39;),
            &#39;velocity_ref&#39;: (150, &#39;kn&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;ft&#39;),
            &#39;distance_upper&#39;: (10.e3, &#39;ft&#39;),
            &#39;distance_ref&#39;: (3000, &#39;ft&#39;),
            &#39;distance_defect_ref&#39;: (3000, &#39;ft&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([0.0, 40.0], &#39;s&#39;),
            &#39;velocity&#39;: ([0.066, 143.1], &#39;kn&#39;),
            &#39;distance&#39;: ([0.0, 1000.], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;rotation&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 1,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;duration_bounds&#39;: ((1, 100), &#39;s&#39;),
            &#39;duration_ref&#39;: (50.0, &#39;s&#39;),
            &#39;velocity_lower&#39;: (0, &#39;kn&#39;),
            &#39;velocity_upper&#39;: (1000, &#39;kn&#39;),
            &#39;velocity_ref&#39;: (100, &#39;kn&#39;),
            &#39;velocity_ref0&#39;: (0, &#39;kn&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;ft&#39;),
            &#39;distance_upper&#39;: (10_000, &#39;ft&#39;),
            &#39;distance_ref&#39;: (5000, &#39;ft&#39;),
            &#39;distance_defect_ref&#39;: (5000, &#39;ft&#39;),
            &#39;angle_lower&#39;: (0., &#39;rad&#39;),
            &#39;angle_upper&#39;: (5., &#39;rad&#39;),
            &#39;angle_ref&#39;: (5., &#39;rad&#39;),
            &#39;angle_defect_ref&#39;: (5., &#39;rad&#39;),
            &#39;normal_ref&#39;: (10000, &#39;lbf&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([40.0, 5.0], &#39;s&#39;),
            &#39;alpha&#39;: ([0.0, 2.5], &#39;deg&#39;),
            &#39;velocity&#39;: ([143, 150.], &#39;kn&#39;),
            &#39;distance&#39;: ([3680.37217765, 4000], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;ascent&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 4,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;velocity_lower&#39;: (0, &#39;kn&#39;),
            &#39;velocity_upper&#39;: (700, &#39;kn&#39;),
            &#39;velocity_ref&#39;: (200, &#39;kn&#39;),
            &#39;velocity_ref0&#39;: (0, &#39;kn&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;ft&#39;),
            &#39;distance_upper&#39;: (15_000, &#39;ft&#39;),
            &#39;distance_ref&#39;: (1e4, &#39;ft&#39;),
            &#39;distance_defect_ref&#39;: (1e4, &#39;ft&#39;),
            &#39;alt_lower&#39;: (0, &#39;ft&#39;),
            &#39;alt_upper&#39;: (700, &#39;ft&#39;),
            &#39;alt_ref&#39;: (1000, &#39;ft&#39;),
            &#39;alt_defect_ref&#39;: (1000, &#39;ft&#39;),
            &#39;final_altitude&#39;: (500, &#39;ft&#39;),
            &#39;alt_constraint_ref&#39;: (500, &#39;ft&#39;),
            &#39;angle_lower&#39;: (-10, &#39;rad&#39;),
            &#39;angle_upper&#39;: (20, &#39;rad&#39;),
            &#39;angle_ref&#39;: (57.2958, &#39;deg&#39;),
            &#39;angle_defect_ref&#39;: (57.2958, &#39;deg&#39;),
            &#39;pitch_constraint_lower&#39;: (0., &#39;deg&#39;),
            &#39;pitch_constraint_upper&#39;: (15., &#39;deg&#39;),
            &#39;pitch_constraint_ref&#39;: (1., &#39;deg&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([45., 25.], &#39;s&#39;),
            &#39;flight_path_angle&#39;: ([0.0, 8.], &#39;deg&#39;),
            &#39;alpha&#39;: ([2.5, 1.5], &#39;deg&#39;),
            &#39;velocity&#39;: ([150., 185.], &#39;kn&#39;),
            &#39;distance&#39;: ([4.e3, 10.e3], &#39;ft&#39;),
            &#39;altitude&#39;: ([0.0, 500.], &#39;ft&#39;),
            &#39;tau_gear&#39;: (0.2, &#39;unitless&#39;),
            &#39;tau_flaps&#39;: (0.9, &#39;unitless&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;accel&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 1,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;alt&#39;: (500, &#39;ft&#39;),
            &#39;EAS_constraint_eq&#39;: (250, &#39;kn&#39;),
            &#39;duration_bounds&#39;: ((1, 200), &#39;s&#39;),
            &#39;duration_ref&#39;: (1000, &#39;s&#39;),
            &#39;velocity_lower&#39;: (150, &#39;kn&#39;),
            &#39;velocity_upper&#39;: (270, &#39;kn&#39;),
            &#39;velocity_ref&#39;: (250, &#39;kn&#39;),
            &#39;velocity_ref0&#39;: (150, &#39;kn&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;NM&#39;),
            &#39;distance_upper&#39;: (150, &#39;NM&#39;),
            &#39;distance_ref&#39;: (5, &#39;NM&#39;),
            &#39;distance_defect_ref&#39;: (5, &#39;NM&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([70., 13.], &#39;s&#39;),
            &#39;velocity&#39;: ([185., 250.], &#39;kn&#39;),
            &#39;distance&#39;: ([10.e3, 20.e3], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;climb1&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 1,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;EAS_target&#39;: (250, &#39;kn&#39;),
            &#39;mach_cruise&#39;: 0.8,
            &#39;target_mach&#39;: False,
            &#39;final_altitude&#39;: (10.e3, &#39;ft&#39;),
            &#39;duration_bounds&#39;: ((30, 300), &#39;s&#39;),
            &#39;duration_ref&#39;: (1000, &#39;s&#39;),
            &#39;alt_lower&#39;: (400, &#39;ft&#39;),
            &#39;alt_upper&#39;: (11_000, &#39;ft&#39;),
            &#39;alt_ref&#39;: (10.e3, &#39;ft&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;NM&#39;),
            &#39;distance_upper&#39;: (500, &#39;NM&#39;),
            &#39;distance_ref&#39;: (10, &#39;NM&#39;),
            &#39;distance_ref0&#39;: (0, &#39;NM&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([1., 2.], &#39;min&#39;),
            &#39;distance&#39;: ([20.e3, 100.e3], &#39;ft&#39;),
            &#39;altitude&#39;: ([500., 10.e3], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;climb2&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 3,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;EAS_target&#39;: (270, &#39;kn&#39;),
            &#39;mach_cruise&#39;: 0.8,
            &#39;target_mach&#39;: True,
            &#39;final_altitude&#39;: (37.5e3, &#39;ft&#39;),
            &#39;required_available_climb_rate&#39;: (0.1, &#39;ft/min&#39;),
            &#39;duration_bounds&#39;: ((200, 17_000), &#39;s&#39;),
            &#39;duration_ref&#39;: (5000, &#39;s&#39;),
            &#39;alt_lower&#39;: (9000, &#39;ft&#39;),
            &#39;alt_upper&#39;: (40000, &#39;ft&#39;),
            &#39;alt_ref&#39;: (30000, &#39;ft&#39;),
            &#39;alt_ref0&#39;: (0, &#39;ft&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (10, &#39;NM&#39;),
            &#39;distance_upper&#39;: (1000, &#39;NM&#39;),
            &#39;distance_ref&#39;: (500, &#39;NM&#39;),
            &#39;distance_ref0&#39;: (0, &#39;NM&#39;),
            &#39;distance_defect_ref&#39;: (500, &#39;NM&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;time&#39;: ([216., 1300.], &#39;s&#39;),
            &#39;distance&#39;: ([100.e3, 200.e3], &#39;ft&#39;),
            &#39;altitude&#39;: ([10.e3, 37.5e3], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.956, 0.956], &#39;unitless&#39;),
        }
    },
    &#39;cruise&#39;: {
        &#39;user_options&#39;: {
            &#39;alt_cruise&#39;: (37.5e3, &#39;ft&#39;),
            &#39;mach_cruise&#39;: 0.8,
        },
        &#39;initial_guesses&#39;: {
            # [Initial mass, delta mass] for special cruise phase.
            &#39;mass&#39;: ([171481., -35000], &#39;lbm&#39;),
            &#39;initial_distance&#39;: (200.e3, &#39;ft&#39;),
            &#39;initial_time&#39;: (1516., &#39;s&#39;),
            &#39;altitude&#39;: (37.5e3, &#39;ft&#39;),
            &#39;mach&#39;: (0.8, &#39;unitless&#39;),
        }
    },
    &#39;desc1&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 3,
            &#39;order&#39;: 3,
            &#39;fix_initial&#39;: False,
            &#39;input_initial&#39;: False,
            &#39;EAS_limit&#39;: (350, &#39;kn&#39;),
            &#39;mach_cruise&#39;: 0.8,
            &#39;input_speed_type&#39;: SpeedType.MACH,
            &#39;final_altitude&#39;: (10.e3, &#39;ft&#39;),
            &#39;duration_bounds&#39;: ((300., 900.), &#39;s&#39;),
            &#39;duration_ref&#39;: (1000, &#39;s&#39;),
            &#39;alt_lower&#39;: (1000, &#39;ft&#39;),
            &#39;alt_upper&#39;: (40_000, &#39;ft&#39;),
            &#39;alt_ref&#39;: (30_000, &#39;ft&#39;),
            &#39;alt_ref0&#39;: (0, &#39;ft&#39;),
            &#39;alt_constraint_ref&#39;: (10000, &#39;ft&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (140_000, &#39;lbm&#39;),
            &#39;mass_ref0&#39;: (0, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (140_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (3000., &#39;NM&#39;),
            &#39;distance_upper&#39;: (5000., &#39;NM&#39;),
            &#39;distance_ref&#39;: (mission_distance, &#39;NM&#39;),
            &#39;distance_ref0&#39;: (0, &#39;NM&#39;),
            &#39;distance_defect_ref&#39;: (100, &#39;NM&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;mass&#39;: (136000., &#39;lbm&#39;),
            &#39;altitude&#39;: ([37.5e3, 10.e3], &#39;ft&#39;),
            &#39;throttle&#39;: ([0.0, 0.0], &#39;unitless&#39;),
            &#39;distance&#39;: ([.92*mission_distance, .96*mission_distance], &#39;NM&#39;),
            &#39;time&#39;: ([28000., 500.], &#39;s&#39;),
        }
    },
    &#39;desc2&#39;: {
        &#39;user_options&#39;: {
            &#39;num_segments&#39;: 1,
            &#39;order&#39;: 7,
            &#39;fix_initial&#39;: False,
            &#39;input_initial&#39;: False,
            &#39;EAS_limit&#39;: (250, &#39;kn&#39;),
            &#39;mach_cruise&#39;: 0.80,
            &#39;input_speed_type&#39;: SpeedType.EAS,
            &#39;final_altitude&#39;: (1000, &#39;ft&#39;),
            &#39;duration_bounds&#39;: ((100., 5000), &#39;s&#39;),
            &#39;duration_ref&#39;: (500, &#39;s&#39;),
            &#39;alt_lower&#39;: (500, &#39;ft&#39;),
            &#39;alt_upper&#39;: (11_000, &#39;ft&#39;),
            &#39;alt_ref&#39;: (10.e3, &#39;ft&#39;),
            &#39;alt_ref0&#39;: (1000, &#39;ft&#39;),
            &#39;alt_constraint_ref&#39;: (1000, &#39;ft&#39;),
            &#39;mass_lower&#39;: (0, &#39;lbm&#39;),
            &#39;mass_upper&#39;: (None, &#39;lbm&#39;),
            &#39;mass_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;mass_defect_ref&#39;: (150_000, &#39;lbm&#39;),
            &#39;distance_lower&#39;: (0, &#39;NM&#39;),
            &#39;distance_upper&#39;: (5000, &#39;NM&#39;),
            &#39;distance_ref&#39;: (3500, &#39;NM&#39;),
            &#39;distance_defect_ref&#39;: (100, &#39;NM&#39;),
        },
        &#39;initial_guesses&#39;: {
            &#39;mass&#39;: (136000., &#39;lbm&#39;),
            &#39;altitude&#39;: ([10.e3, 1.e3], &#39;ft&#39;),
            &#39;throttle&#39;: ([0., 0.], &#39;unitless&#39;),
            &#39;distance&#39;: ([.96*mission_distance, mission_distance], &#39;NM&#39;),
            &#39;time&#39;: ([28500., 500.], &#39;s&#39;),
        }
    },
}


def phase_info_parameterization(phase_info, post_mission_info, aviary_inputs):
    &quot;&quot;&quot;
    Modify the values in the phase_info dictionary to accomodate different values
    for the following mission design inputs: cruise altitude, cruise mach number,
    cruise range, design gross mass.

    Parameters
    ----------
    phase_info : dict
        Dictionary of phase settings for a mission profile
    aviary_inputs : &lt;AviaryValues&gt;
        Object containing values and units for all aviary inputs and options

    Returns
    -------
    dict
        Modified phase_info that has been changed to match the new mission
        parameters
    &quot;&quot;&quot;

    range_cruise = aviary_inputs.get_val(Mission.Design.RANGE, units=&#39;NM&#39;)
    alt_cruise = aviary_inputs.get_val(Mission.Design.CRUISE_ALTITUDE, units=&#39;ft&#39;)
    gross_mass = aviary_inputs.get_val(Mission.Design.GROSS_MASS, units=&#39;lbm&#39;)
    mach_cruise = aviary_inputs.get_val(Mission.Design.MACH)

    # Range
    old_range_cruise = phase_info[&#39;desc2&#39;][&#39;initial_guesses&#39;][&#39;distance&#39;][0][1]
    range_scale = 1.0
    if range_cruise != old_range_cruise:

        phase_info[&#39;desc1&#39;][&#39;initial_guesses&#39;][&#39;distance&#39;] = \
            ([.92*range_cruise, .96*range_cruise], &#39;NM&#39;)
        phase_info[&#39;desc2&#39;][&#39;initial_guesses&#39;][&#39;distance&#39;] = \
            ([.96*range_cruise, range_cruise], &#39;NM&#39;)
        range_scale = range_cruise / old_range_cruise

    # Altitude
    old_alt_cruise = phase_info[&#39;climb2&#39;][&#39;user_options&#39;][&#39;final_altitude&#39;][0]
    if alt_cruise != old_alt_cruise:

        phase_info[&#39;climb2&#39;][&#39;user_options&#39;][&#39;final_altitude&#39;] = (alt_cruise, &#39;ft&#39;)
        phase_info[&#39;climb2&#39;][&#39;initial_guesses&#39;][&#39;altitude&#39;] = ([10.e3, alt_cruise], &#39;ft&#39;)
        phase_info[&#39;cruise&#39;][&#39;initial_guesses&#39;][&#39;altitude&#39;] = (alt_cruise, &#39;ft&#39;)
        phase_info[&#39;desc1&#39;][&#39;initial_guesses&#39;][&#39;altitude&#39;] = ([alt_cruise, 10.e3], &#39;ft&#39;)

        # TODO - Could adjust time guesses/bounds in climb2 and desc2.

    # Mass
    old_gross_mass = 175400.0
    if gross_mass != old_gross_mass:

        # Note, this requires that the guess for gross mass is pretty close to the
        # compute mass.

        fuel_used = 35000 * range_scale
        phase_info[&#39;groundroll&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = \
            ([gross_mass, gross_mass], &#39;lbm&#39;)
        phase_info[&#39;rotation&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = \
            ([gross_mass, gross_mass], &#39;lbm&#39;)
        phase_info[&#39;accel&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = \
            ([gross_mass, gross_mass], &#39;lbm&#39;)
        phase_info[&#39;ascent&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = \
            ([gross_mass, gross_mass], &#39;lbm&#39;)

        phase_info[&#39;cruise&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = \
            ([gross_mass, -fuel_used], &#39;lbm&#39;)

        end_mass = gross_mass - fuel_used
        phase_info[&#39;desc1&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = (end_mass, &#39;lbm&#39;)
        phase_info[&#39;desc2&#39;][&#39;initial_guesses&#39;][&#39;mass&#39;] = (end_mass, &#39;lbm&#39;)

    # Mach
    old_mach_cruise = phase_info[&#39;cruise&#39;][&#39;initial_guesses&#39;][&#39;mach&#39;][0]
    if mach_cruise != old_mach_cruise:

        phase_info[&#39;cruise&#39;][&#39;initial_guesses&#39;][&#39;mach&#39;] = (mach_cruise, &#39;unitless&#39;)

    return phase_info, post_mission_info
</pre></div>
</div>
</div>
</div>
<p>The file <code class="docutils literal notranslate"><span class="pre">default_phase_info/gasp.py</span></code> contains the following phases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">groundroll</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">ascent</span><span class="p">,</span> <span class="n">accel</span><span class="p">,</span> <span class="n">climb1</span><span class="p">,</span> <span class="n">climb2</span><span class="p">,</span> <span class="n">cruise</span><span class="p">,</span> <span class="n">desc1</span><span class="p">,</span> <span class="n">desc2</span><span class="o">.</span>
</pre></div>
</div>
<p>All of the above phases belong to mission. No pre-mission phase is provided. If <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code> is missing, a default <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code> is provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="s1">&#39;pre_mission&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;include_takeoff&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;external_subsystems&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Similarly, if no post-mission phase is provided, then a default <code class="docutils literal notranslate"><span class="pre">post_mission</span></code> is provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="s1">&#39;post_mission&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;include_landing&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;external_subsystems&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="p">},</span>
</pre></div>
</div>
<p>For `GASP’ missions, taxi is considered part of pre-mission and landing is considered part of post-mission.</p>
<section id="groundroll-phase">
<h4>Groundroll phase<a class="headerlink" href="#groundroll-phase" title="Link to this heading">#</a></h4>
<p>Let us discuss the groundroll phase in detail as an example.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">groundroll</span></code> phase, we are given <code class="docutils literal notranslate"><span class="pre">duration_bounds</span></code> of <code class="docutils literal notranslate"><span class="pre">((1.,</span> <span class="pre">100.),</span> <span class="pre">'s')</span></code> and a reference value <code class="docutils literal notranslate"><span class="pre">duration_ref</span></code> of <code class="docutils literal notranslate"><span class="pre">(50.,</span> <span class="pre">'s')</span></code>. Here, <code class="docutils literal notranslate"><span class="pre">duration_bounds</span></code> is a tuple of (lower, upper) bounds for the duration of the integration variable across the phase and <code class="docutils literal notranslate"><span class="pre">duration_ref</span></code> is the unit-reference value for the duration of the integration variable across the phase (see <a class="reference external" href="https://openmdao.github.io/dymos/features/phases/variables.html">Dymos Variables</a>). This implies a time range of <code class="docutils literal notranslate"><span class="pre">(0.2,</span> <span class="pre">2)</span></code> in ground roll phase, or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0.02 ≤ traj.groundroll.t_duration ≤ 2.
</pre></div>
</div>
<p>We see <code class="docutils literal notranslate"><span class="pre">velocity_lower:</span> <span class="pre">(0,</span> <span class="pre">'kn')</span></code>, <code class="docutils literal notranslate"><span class="pre">velocity_upper:</span> <span class="pre">(1000,</span> <span class="pre">'kn')</span></code>, and <code class="docutils literal notranslate"><span class="pre">velocity_ref:</span> <span class="pre">(100,</span> <span class="pre">'kn')</span></code>. They result in <code class="docutils literal notranslate"><span class="pre">TAS</span></code> as a design variable with a range: <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">10)</span></code>, or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ≤ traj.groundroll.states:TAS ≤ 10.
</pre></div>
</div>
<p>Similarly, we get:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ≤ traj.groundroll.states:distance ≤ 3.3333
</pre></div>
</div>
<p>The mass parameter is a little bit different because we have <code class="docutils literal notranslate"><span class="pre">mass_upper:</span> <span class="pre">(None,</span> <span class="pre">'lbm')</span></code> (and <code class="docutils literal notranslate"><span class="pre">mass_lower:</span> <span class="pre">(0,</span> <span class="pre">'lbm')</span></code>). In this situation, OpenMDAO provides replaces the <code class="docutils literal notranslate"><span class="pre">None</span></code> with an actual upper bound that is very large. We get:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ≤ traj.groundroll.states:mass ≤ 5.7e+15.
</pre></div>
</div>
<p>Comparing to <code class="docutils literal notranslate"><span class="pre">TAS</span></code> and <code class="docutils literal notranslate"><span class="pre">distance</span></code>, <code class="docutils literal notranslate"><span class="pre">mass</span></code> is not scaled to the same range. This is okay because aircraft mass is actually a constant in this phase. A huge upper bound will not have an impact.</p>
<p>In ground roll phase, throttle setting is set to maximum (1.0). Aviary sets a phase parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dynamic</span><span class="o">.</span><span class="n">Mission</span><span class="o">.</span><span class="n">THROTTLE</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>For the <a class="reference external" href="https://openmdao.github.io/dymos/getting_started/collocation.html"><code class="docutils literal notranslate"><span class="pre">COLLOCATION</span></code></a> setting, there is one <a class="reference external" href="https://openmdao.github.io/dymos/getting_started/intro_to_dymos/intro_segments.html">segment</a> (<code class="docutils literal notranslate"><span class="pre">'num_segments':</span> <span class="pre">1</span></code>) and polynomial interpolation degree is 3 (<code class="docutils literal notranslate"><span class="pre">'order':</span> <span class="pre">3</span></code>). Increasing the number of segments and/or increasing the degree of polynomial will improve accuracy but will also increase the complexity of computation. For groundroll, it is unnecessary.</p>
<p>Since groundroll is the first phase, <code class="docutils literal notranslate"><span class="pre">connect_initial_mass</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. <code class="docutils literal notranslate"><span class="pre">fix_initial</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, but <code class="docutils literal notranslate"><span class="pre">fix_initial_mass</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code> because aircraft total mass is a design parameter.</p>
<p>Parameter <code class="docutils literal notranslate"><span class="pre">mass_defect_ref:</span> <span class="pre">(10.e3,</span> <span class="pre">'lbm')</span></code> (or <code class="docutils literal notranslate"><span class="pre">mass_defect_ref:</span> <span class="pre">(1.e4,</span> <span class="pre">'lbm')</span></code>) lbm. Defect is a residual that measures how accurately the proposed state and control history obeyed the ODE governing the system dynamics. For distance, the defect reference is <code class="docutils literal notranslate"><span class="pre">100</span></code> ft. For <code class="docutils literal notranslate"><span class="pre">TAS</span></code>, <code class="docutils literal notranslate"><span class="pre">defect_ref</span></code> is not provided. The default behavior is to make make the <code class="docutils literal notranslate"><span class="pre">defect_ref</span></code> equal to the <code class="docutils literal notranslate"><span class="pre">ref</span></code> value. Please see <a class="reference external" href="https://stackoverflow.com/questions/65243017/openmdao-dymos-defect-refs-how-should-i-set-these">here</a> for more info.</p>
</section>
<section id="other-phases">
<h4>Other phases<a class="headerlink" href="#other-phases" title="Link to this heading">#</a></h4>
<p>We will not discuss the other phases in detail.</p>
<p>Phase <code class="docutils literal notranslate"><span class="pre">climb1</span></code> is for climb up to 10,000 ft and phase <code class="docutils literal notranslate"><span class="pre">climb2</span></code> is for climb to cruise phase. Phase <code class="docutils literal notranslate"><span class="pre">desc1</span></code> is for descent down to 10,000 ft and phase <code class="docutils literal notranslate"><span class="pre">desc2</span></code> is for descent from 10,000 ft down to 1,000 ft.</p>
</section>
</section>
<section id="default-flops-phases">
<h3>Default FLOPS phases<a class="headerlink" href="#default-flops-phases" title="Link to this heading">#</a></h3>
<p>The file <code class="docutils literal notranslate"><span class="pre">default_phase_info/flops.py</span></code> contains the following phases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre_mission</span><span class="p">,</span> <span class="n">climb</span><span class="p">,</span> <span class="n">cruise</span><span class="p">,</span> <span class="n">descent</span><span class="p">,</span> <span class="n">post_mission</span>
</pre></div>
</div>
<p>The differences between <code class="docutils literal notranslate"><span class="pre">GASP</span></code> and <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> phases are due to how <code class="docutils literal notranslate"><span class="pre">GASP</span></code> and <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> implement trajectory analysis.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>File <code class="docutils literal notranslate"><span class="pre">default_phase_info/flops.py</span></code> has a <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code> phase and a <code class="docutils literal notranslate"><span class="pre">post_mission</span></code> phase. In <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code>, <code class="docutils literal notranslate"><span class="pre">takeoff</span></code> is the simplified takeoff and in <code class="docutils literal notranslate"><span class="pre">post_mission</span></code>, <code class="docutils literal notranslate"><span class="pre">landing</span></code> is the simplified landing. For <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> missions, there are <a class="reference internal" href="../user_guide/FLOPS_based_detailed_takeoff_and_landing.html"><span class="doc std std-doc">detailed takeoff and landing</span></a> available. But they are not used in <code class="docutils literal notranslate"><span class="pre">default_phase_info/flops.py</span></code>. The other phases are mission phases.</p>
</div>
</section>
</section>
<section id="outputted-files-and-how-to-read-them">
<h2>Outputted files and how to read them<a class="headerlink" href="#outputted-files-and-how-to-read-them" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please also see <a class="reference internal" href="../user_guide/outputs_and_how_to_read_them.html"><span class="std std-doc">this doc page</span></a> for more info about the Aviary dashboard and the information is contains.</p>
</div>
<p>Each standard run generates several output files. Which output files are generated depend on the run options. In this section, we assume that we’ve set <code class="docutils literal notranslate"><span class="pre">max_iter</span> <span class="pre">=</span> <span class="pre">50</span></code> in order to make sure of convergence. The following screenshots used in this article are all from a run using <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm.csv</span></code>.</p>
<p>First, there is always a sub-folder <code class="docutils literal notranslate"><span class="pre">reports/aviary</span></code> that contains a few HTML files.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">driver_scaling_report.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n2.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opt_report.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">total_coloring.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traj_linkage_report.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traj_results_report.html</span></code></p></li>
</ul>
<section id="file-driver-scaling-report-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">driver_scaling_report.html</span></code><a class="headerlink" href="#file-driver-scaling-report-html" title="Link to this heading">#</a></h3>
<p>This file is a summary of driver scaling information. After all design variables, objectives, and constraints are declared and the problem has been set up, this report presents all the design variables and constraints in all phases as well as the objectives. The file is divided to three blocks: <code class="docutils literal notranslate"><span class="pre">Design</span> <span class="pre">Variables</span></code>, <code class="docutils literal notranslate"><span class="pre">Constraints</span></code>, and <code class="docutils literal notranslate"><span class="pre">Objectives</span></code>. It contains the following columns: name, size, indices, driver value and units, model value and units, ref, ref0, scaler, adder, etc. It also shows <code class="docutils literal notranslate"><span class="pre">Jacobian</span> <span class="pre">Info</span></code> - responses with respect to design variables (<code class="docutils literal notranslate"><span class="pre">DV</span></code>). A screen shot of design variables is shown here:</p>
<blockquote>
<div><p><img alt="Sample driver_scaling_report.html (top lines)" src="../_images/driver_scaling_report_top.PNG" /></p>
</div></blockquote>
<p>This file is needed when you are debugging. New users can skip it.</p>
</section>
<section id="file-inputs-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">inputs.html</span></code><a class="headerlink" href="#file-inputs-html" title="Link to this heading">#</a></h3>
<p>File <code class="docutils literal notranslate"><span class="pre">inputs.html</span></code>  is a sortable and filterable input report of input variables in different phases. It contains all the input variables (with possibly duplicate names for different phases) but only shows those in <code class="docutils literal notranslate"><span class="pre">Source</span> <span class="pre">is</span> <span class="pre">IVC</span></code> (abbreviation for <a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/core_features/working_with_components/indepvarcomp.html">IndepVarComp</a>) on opening up. Users can choose to show other inputs by selecting and deselecting this checkbox. Users can filter their inputs by input name, source name, units, shape, tags,  values (<code class="docutils literal notranslate"><span class="pre">Val</span></code>), or design variables (<code class="docutils literal notranslate"><span class="pre">Source</span> <span class="pre">is</span> <span class="pre">DV</span></code>). Here is a screen shot (top part) when it is opened:</p>
<blockquote>
<div><p><img alt="Sample inputs.html (top lines)" src="../_images/inputs_html_top.PNG" /></p>
</div></blockquote>
<p>New users can choose to use <code class="docutils literal notranslate"><span class="pre">input_list.txt</span></code> instead (see below).</p>
</section>
<section id="file-n2-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">n2.html</span></code><a class="headerlink" href="#file-n2-html" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://openmdao.org/newdocs/versions/latest/features/model_visualization/n2_details/n2_details.html">N2</a>, sometimes referred to as an eXtended Design Structure Matrix (XDSM), is a powerful tool for understanding your model in OpenMDAO. It is an N-squared diagram in the shape of a matrix representing functional or physical interfaces between system elements. It can be used to systematically identify, define, tabulate, design, and analyze functional and physical interfaces.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <em>strongly</em> recommend that you understand N2 diagrams well, especially if you are debugging a model or adding external subsystems. Here is a <a class="reference external" href="https://openmdao.github.io/PracticalMDO/Notebooks/ModelConstruction/using_n2.html">doc page</a> featuring an informative video on how to use N2 diagrams effectively. MDO lab has another resource for learning about N2 and <a class="reference external" href="https://mdolab-pyxdsm.readthedocs-hosted.com/">XDSM</a>.</p>
</div>
<p>Here is a screenshot of an N2 diagram after we run <code class="docutils literal notranslate"><span class="pre">aviary</span> <span class="pre">run_mission</span> <span class="pre">models/test_aircraft/aircraft_for_bench_GwGm.csv</span></code>.</p>
<blockquote>
<div><p><img alt="Sample n2.html (on start)" src="../_images/N2_start.PNG" /></p>
</div></blockquote>
<p>At level 1, we are interested in the phases, so let us <code class="docutils literal notranslate"><span class="pre">Hide</span> <span class="pre">solvers</span></code>. So from <code class="docutils literal notranslate"><span class="pre">model</span></code>, zoom into <code class="docutils literal notranslate"><span class="pre">traj</span></code>, then into <code class="docutils literal notranslate"><span class="pre">phases</span></code>. We see the phases from <code class="docutils literal notranslate"><span class="pre">groundroll</span></code> to <code class="docutils literal notranslate"><span class="pre">desc2</span></code> as expected. To see how those phases are connected, we click on <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">all</span> <span class="pre">connections</span> <span class="pre">in</span> <span class="pre">view</span></code>. Here is what we see:</p>
<blockquote>
<div><p><img alt="Sample n2.html (on phases)" src="../_images/N2_phases.PNG" /></p>
</div></blockquote>
<p>The solid arrow connections show how outputs of one phase feed as inputs to the next. As you can see, the input of each phase is linked from the previous phase and its output is linked to the next phase. This is pretty much what we expect. The dashed arrows are links to and/or from other places not in the view. If you are curious where those links go, you must zoom out. This can be done by clicking the vertical bar on the left. Let us click it twice. Here is what we get:</p>
<blockquote>
<div><p><img alt="Sample n2.html (on phases)" src="../_images/N2_phases_links.PNG" /></p>
</div></blockquote>
<p>Note that <code class="docutils literal notranslate"><span class="pre">desc2</span></code> phase is linked back up to <code class="docutils literal notranslate"><span class="pre">static_analysis</span></code>. This means that at least one variable must be matched in the two places. There must be a nonlinear solver for this step.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">GASP</span></code> missions, there is a takeoff subsystem (including <code class="docutils literal notranslate"><span class="pre">taxi</span></code> phase) within <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code>. For <code class="docutils literal notranslate"><span class="pre">FLOPS</span></code> missions, there is a takeoff subsystem within <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code> in which a <code class="docutils literal notranslate"><span class="pre">takeoff</span></code> phase is added. It is added after <code class="docutils literal notranslate"><span class="pre">static_analysis</span></code> in <code class="docutils literal notranslate"><span class="pre">add_pre_mission_systems</span></code> method.</p>
<p>Similarly, there is a <code class="docutils literal notranslate"><span class="pre">landing</span></code> phase within <code class="docutils literal notranslate"><span class="pre">post_mission</span></code>.</p>
</section>
<section id="file-opt-report-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">opt_report.html</span></code><a class="headerlink" href="#file-opt-report-html" title="Link to this heading">#</a></h3>
<p>This file is OpenMDAO Optimization Report. All values are in unscaled, physical units. On the top is a summary of the optimization, followed by the objective, design variables, constraints, and optimizer settings. Here is a screenshot:</p>
<blockquote>
<div><p><img alt="Sample opt_report.html (top lines)" src="../_images/opt_report_top.PNG" /></p>
</div></blockquote>
<p>This file is important when dissecting optimal results produced by Aviary.</p>
</section>
<section id="coloring-files">
<h3>Coloring files<a class="headerlink" href="#coloring-files" title="Link to this heading">#</a></h3>
<p>There is a sub-folder <code class="docutils literal notranslate"><span class="pre">coloring_files</span></code>. Those are used internally by OpenMDAO for derivative computation. Users should generally skip those files.</p>
</section>
<section id="file-traj-linkage-report-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">traj_linkage_report.html</span></code><a class="headerlink" href="#file-traj-linkage-report-html" title="Link to this heading">#</a></h3>
<p>This is a dymos linkage report in a customized N2 diagram. It provides a report detailing how phases are linked together via constraint or connection. It can be used to identify errant linkages between fixed quantities.</p>
<blockquote>
<div><p><img alt="Sample traj_linkage_report.html (top of timeseries)" src="../_images/traj_linkage_report_top.PNG" /></p>
</div></blockquote>
<p>We clearly see how those mission phases are linked.</p>
</section>
<section id="file-traj-results-report-html">
<h3>File <code class="docutils literal notranslate"><span class="pre">traj_results_report.html</span></code><a class="headerlink" href="#file-traj-results-report-html" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is one of the most important files produced by Aviary. It will help you visualize and understand the optimal trajectory produced by Aviary.</p>
</div>
<p>This file contains timeseries and phase parameters in different tabs. For our <code class="docutils literal notranslate"><span class="pre">aircraft_for_bench_GwGm</span></code> run, they are: groundroll, rotation,  ascent, accel, climb1, climb2, cruise, desc1, and desc2 parameters. On the timeseries tab, users can select which phases to view. The following are the top of timeseries tab and ascent parameters tab:</p>
<blockquote>
<div><p><img alt="Sample traj_results_report.html (top part of timeseries)" src="../_images/traj_results_report_top.PNG" /></p>
</div></blockquote>
<p>Let’s find the altitude chart. Move the cursor to the top of climb2. We see that the aircraft climbs to 37910 feet at 2814 second. Then it enters to cruise phase. At 28290 second, it starts descent from 37660 feet.</p>
<blockquote>
<div><p><img alt="Sample traj_results_report.html (altitude)" src="../_images/traj_results_report_altitude.PNG" /></p>
</div></blockquote>
<p>Let’s switch to <code class="docutils literal notranslate"><span class="pre">ascent</span></code> tab. We see the following:</p>
<blockquote>
<div><p><img alt="Sample traj_results_report.html (top lines) of ascent" src="../_images/traj_results_report_top_ascent.PNG" /></p>
</div></blockquote>
<p>This file is quite important. Users should play with it and try to grasp all possible features. For example, you can hover the mouse over the solution points to see solution value; you can save the interesting images; you can zoom into a particular region for details, etc.</p>
</section>
<section id="optimizer-output">
<h3>Optimizer output<a class="headerlink" href="#optimizer-output" title="Link to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code> is the optimizer, <code class="docutils literal notranslate"><span class="pre">IPOPT.out</span></code> is generated. If <code class="docutils literal notranslate"><span class="pre">SLSQP</span></code> is the optimizer and <code class="docutils literal notranslate"><span class="pre">pyOptSparseDriver</span></code> is the driver, <code class="docutils literal notranslate"><span class="pre">SLSQP.out</span></code> is generated. Generally speaking, <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code> and <code class="docutils literal notranslate"><span class="pre">SNOPT</span></code> converge Aviary optimization problems better than <code class="docutils literal notranslate"><span class="pre">SLSQP</span></code>, but <code class="docutils literal notranslate"><span class="pre">SLSQP</span></code> is bundled with Scipy by default, making it more widely available.</p>
</section>
<section id="sqlite-database-file">
<h3>SQLite database file<a class="headerlink" href="#sqlite-database-file" title="Link to this heading">#</a></h3>
<p>There is a <code class="docutils literal notranslate"><span class="pre">.db</span></code> file after run. By default, it is <code class="docutils literal notranslate"><span class="pre">aviary_history.db</span></code>. This is an SQLite database file. In level 2 and level 3, we will be able to choose a different name. Our run is recorded into this file. You generally shouldn’t need to parse through this file on your own, but it is available if you’re seeking additional problem information.</p>
</section>
<section id="plain-text-inputs-and-outputs">
<h3>Plain text inputs and outputs<a class="headerlink" href="#plain-text-inputs-and-outputs" title="Link to this heading">#</a></h3>
<p>If <code class="docutils literal notranslate"><span class="pre">debug_mode</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">input_list.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">output_list.txt</span></code> are generated. We recommend this parameter be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> for beginners.</p>
<p>Let us look at <code class="docutils literal notranslate"><span class="pre">input_list.txt</span></code>:</p>
<blockquote>
<div><p><img alt="Sample input_list.txt (top lines)" src="../_images/input_list_top.PNG" /></p>
</div></blockquote>
<p>In this screenshot, we see a tree structure. There are three columns. The left column is a list of variable names. The middle column is the value and the right column is the <a class="reference external" href="https://openmdao.org/newdocs/versions/latest/basic_user_guide/multidisciplinary_optimization/linking_vars.html">promoted</a> variable name. <code class="docutils literal notranslate"><span class="pre">pre_mission</span></code> is a phase, <code class="docutils literal notranslate"><span class="pre">static_analysis</span></code> is a subgroup which contains other subcomponents (e.g. <code class="docutils literal notranslate"><span class="pre">propulsion_group</span></code>). <code class="docutils literal notranslate"><span class="pre">engine</span></code> is a component under which is a list of input variables (e.g. <code class="docutils literal notranslate"><span class="pre">aircraft:engine:scaled_sls_thrust</span></code>).</p>
<p>An input variable can appear under different phases and within different components. Note that its values can be different because its value has been updated during the computation. On the top-left corner is the total number of inputs. That number counts the duplicates because one variable can appear in different phases. Aviary variable structure are discussed in <a class="reference external" href="https://github.com/OpenMDAO/Aviary/blob/main/aviary/docs/user_guide/variable_hierarchy.ipynb">Understanding the Variable Hierarchy</a> and <a class="reference external" href="https://github.com/OpenMDAO/Aviary/blob/main/aviary/docs/user_guide/variable_metadata.ipynb">Understanding the Variable Metadata</a>.</p>
<p>If you zoom the N2 diagram into <code class="docutils literal notranslate"><span class="pre">propulsion_group</span></code> and <code class="docutils literal notranslate"><span class="pre">gasp_based_geom</span></code>, you see the exact same tree structure:</p>
<blockquote>
<div><p><img alt="Sample N2 Diagram (top blocks)" src="../_images/N2_top.PNG" /></p>
</div></blockquote>
<p>File <code class="docutils literal notranslate"><span class="pre">output_list.txt</span></code> follows the same pattern. But there is another tree for implicit outputs. That helps when debugging is needed.</p>
</section>
<section id="additional-messages">
<h3>Additional messages<a class="headerlink" href="#additional-messages" title="Link to this heading">#</a></h3>
<p>When Aviary is run, some messages are printed on the command line and they are important. For example, the following constraint report tells us whether our desired constraints are met:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span> <span class="n">Constraint</span> <span class="n">Report</span> <span class="p">[</span><span class="n">traj</span><span class="p">]</span> <span class="o">---</span>
    <span class="o">---</span> <span class="n">groundroll</span> <span class="o">---</span>
        <span class="kc">None</span>
    <span class="o">---</span> <span class="n">rotation</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">0.0000e+00</span> <span class="o">==</span> <span class="n">normal_force</span> <span class="p">[</span><span class="n">lbf</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">ascent</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">5.0000e+02</span> <span class="o">==</span> <span class="n">altitude</span> <span class="p">[</span><span class="n">ft</span><span class="p">]</span>
        <span class="p">[</span><span class="n">path</span><span class="p">]</span>    <span class="mf">0.0000e+00</span> <span class="o">&lt;=</span> <span class="n">load_factor</span> <span class="o">&lt;=</span> <span class="mf">1.1000e+00</span>  <span class="p">[</span><span class="n">unitless</span><span class="p">]</span>
        <span class="p">[</span><span class="n">path</span><span class="p">]</span>    <span class="mf">0.0000e+00</span> <span class="o">&lt;=</span> <span class="n">fuselage_pitch</span> <span class="o">&lt;=</span> <span class="mf">1.5000e+01</span>  <span class="p">[</span><span class="n">deg</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">accel</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">2.5000e+02</span> <span class="o">==</span> <span class="n">EAS</span> <span class="p">[</span><span class="n">kn</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">climb1</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">1.0000e+04</span> <span class="o">==</span> <span class="n">altitude</span> <span class="p">[</span><span class="n">ft</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">climb2</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">3.7500e+04</span> <span class="o">==</span> <span class="n">altitude</span> <span class="p">[</span><span class="n">ft</span><span class="p">]</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">1.0000e-01</span> <span class="o">&lt;=</span> <span class="n">altitude_rate</span>  <span class="p">[</span><span class="n">ft</span><span class="o">/</span><span class="nb">min</span><span class="p">]</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">8.0000e-01</span> <span class="o">==</span> <span class="n">mach</span> <span class="p">[</span><span class="n">unitless</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">cruise</span> <span class="o">---</span>
        <span class="kc">None</span>
    <span class="o">---</span> <span class="n">desc1</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">1.0000e+04</span> <span class="o">==</span> <span class="n">altitude</span> <span class="p">[</span><span class="n">ft</span><span class="p">]</span>
    <span class="o">---</span> <span class="n">desc2</span> <span class="o">---</span>
        <span class="p">[</span><span class="n">final</span><span class="p">]</span>   <span class="mf">1.0000e+03</span> <span class="o">==</span> <span class="n">altitude</span> <span class="p">[</span><span class="n">ft</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="beyond-level-1">
<h2>Beyond level 1<a class="headerlink" href="#beyond-level-1" title="Link to this heading">#</a></h2>
<p>Aviary Level 1 is quite capable yet limited in how much is exposed to the user. If you need additional flexibility or want to add your own subsystems, you will need to move to Levels 2 or 3. Let us briefly discuss some of the possible reasons for you to move to Levels 2 or 3.</p>
<p>If you examine the Aviary metadata, you find that Aviary has two choices of objectives: <code class="docutils literal notranslate"><span class="pre">Mission.Objectives.FUEL</span></code> and <code class="docutils literal notranslate"><span class="pre">Mission.Objectives.RANGE</span></code>. But in level 1, you are limited to minimizing fuel. Users will be able to make other choices in level 2 and level 3.</p>
<p>Level 1 uses the default <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> dictionaries, though there is an option to use a customized <code class="docutils literal notranslate"><span class="pre">phase_info</span></code>.
For more details, please read <a class="reference internal" href="../user_guide/drawing_and_running_simple_missions.html"><span class="doc std std-doc">drawing and running simple missions</span></a>.</p>
<p>There may be more or fewer key-value pairs in each of the phases. For example, if you have an external subsystem, say, a battery with <code class="docutils literal notranslate"><span class="pre">BatteryBuilder()</span></code>, you can add a key <code class="docutils literal notranslate"><span class="pre">external_subsystems</span></code> with value <code class="docutils literal notranslate"><span class="pre">BatteryBuilder()</span></code>. We will go into details later.</p>
<p>No matter what mission method users choose, they can create their own phase sequences and run Aviary using either level 2 or 3 interface.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">aviary/interface/default_phase_info</span></code> subdirectory, you see another <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> file <code class="docutils literal notranslate"><span class="pre">solved.py</span></code>. It defines the <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> object for the “solved” mission method which is not explained in level 1. The “solved” mission method is a more simplified and robust method than the other methods. In just a few words, it’s a way of implementing a trajectory where the aircraft only flies in straight lines in the altitude-range space and usually at constant velocity. The idea is to simplify the design space by reducing the flexibility the optimizer has to choose a trajectory profile. It still uses a collocation method to solve the mission dynamics, but the complexity of the design problem is lessened.</p>
<p>We are ready to move on to <a class="reference internal" href="onboarding_level2.html"><span class="std std-doc">Level 2</span></a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./getting_started"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="onboarding.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Onboarding Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="onboarding_level2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Level 2</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-level-1">What is level 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aviary-fortran-to-aviary-command">Aviary fortran_to_aviary command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aviary-run-mission-command">Aviary run_mission command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-aircraft-model">First aircraft model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-level-1-run">First level 1 run</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warning-messages">Warning messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#level-1-run-options">Level 1 run options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-available-input-files">Other available input files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phase-info">Phase info</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-gasp-phases">Default GASP phases</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#groundroll-phase">Groundroll phase</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#other-phases">Other phases</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-flops-phases">Default FLOPS phases</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outputted-files-and-how-to-read-them">Outputted files and how to read them</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-driver-scaling-report-html">File <code class="docutils literal notranslate"><span class="pre">driver_scaling_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-inputs-html">File <code class="docutils literal notranslate"><span class="pre">inputs.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-n2-html">File <code class="docutils literal notranslate"><span class="pre">n2.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-opt-report-html">File <code class="docutils literal notranslate"><span class="pre">opt_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#coloring-files">Coloring files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-traj-linkage-report-html">File <code class="docutils literal notranslate"><span class="pre">traj_linkage_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-traj-results-report-html">File <code class="docutils literal notranslate"><span class="pre">traj_results_report.html</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optimizer-output">Optimizer output</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sqlite-database-file">SQLite database file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plain-text-inputs-and-outputs">Plain text inputs and outputs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-messages">Additional messages</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-level-1">Beyond level 1</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aviary team at NASA
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>